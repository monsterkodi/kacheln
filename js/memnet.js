// koffee 1.14.0

/*
00     00  00000000  00     00  000   000  00000000  000000000
000   000  000       000   000  0000  000  000          000   
000000000  0000000   000000000  000 0 000  0000000      000   
000 0 000  000       000 0 000  000  0000  000          000   
000   000  00000000  000   000  000   000  00000000     000
 */
var animTimer, r_max, rx_max, sysinfo, tick, tx_max, w_max;

sysinfo = require('systeminformation');

r_max = 100;

w_max = 100;

rx_max = 100;

tx_max = 100;

animTimer = null;

tick = function() {
    clearTimeout(animTimer);
    return sysinfo.getDynamicData((function(_this) {
        return function(d) {
            var nd, r_sec, rx_sec, tx_sec, w_sec;
            rx_sec = parseInt(d.networkStats[0].rx_sec);
            tx_sec = parseInt(d.networkStats[0].tx_sec);
            rx_max = Math.max(rx_max, rx_sec);
            tx_max = Math.max(tx_max, tx_sec);
            nd = {
                mem: {
                    used: d.mem.used,
                    total: d.mem.total,
                    active: d.mem.active
                },
                net: {
                    rx_fac: rx_sec / rx_max,
                    tx_fac: tx_sec / tx_max,
                    rx_sec: rx_sec,
                    tx_sec: tx_sec,
                    rx_max: rx_max,
                    tx_max: tx_max
                },
                cpu: {
                    sys: d.currentLoad.currentload / 100,
                    usr: d.currentLoad.currentload_user / 100
                }
            };
            if (d.disksIO != null) {
                r_sec = d.disksIO.rIO_sec;
                w_sec = d.disksIO.wIO_sec;
                r_max = Math.max(r_max, r_sec);
                w_max = Math.max(w_max, w_sec);
                nd.dsk = {
                    r_fac: r_sec / r_max,
                    w_fac: w_sec / w_max,
                    r_sec: r_sec,
                    w_sec: w_sec,
                    r_max: r_max,
                    w_max: w_max
                };
            }
            process.send(JSON.stringify(nd));
            return animTimer = setTimeout(tick, 10000);
        };
    })(this));
};

tick();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWVtbmV0LmpzIiwic291cmNlUm9vdCI6Ii4uL2NvZmZlZSIsInNvdXJjZXMiOlsibWVtbmV0LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7O0FBQUEsSUFBQTs7QUFRQSxPQUFBLEdBQVcsT0FBQSxDQUFRLG1CQUFSOztBQUVYLEtBQUEsR0FBUzs7QUFDVCxLQUFBLEdBQVM7O0FBRVQsTUFBQSxHQUFTOztBQUNULE1BQUEsR0FBUzs7QUFFVCxTQUFBLEdBQVk7O0FBRVosSUFBQSxHQUFPLFNBQUE7SUFFSCxZQUFBLENBQWEsU0FBYjtXQUVBLE9BQU8sQ0FBQyxjQUFSLENBQXVCLENBQUEsU0FBQSxLQUFBO2VBQUEsU0FBQyxDQUFEO0FBTW5CLGdCQUFBO1lBQUEsTUFBQSxHQUFTLFFBQUEsQ0FBUyxDQUFDLENBQUMsWUFBYSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQTNCO1lBQ1QsTUFBQSxHQUFTLFFBQUEsQ0FBUyxDQUFDLENBQUMsWUFBYSxDQUFBLENBQUEsQ0FBRSxDQUFDLE1BQTNCO1lBRVQsTUFBQSxHQUFTLElBQUksQ0FBQyxHQUFMLENBQVMsTUFBVCxFQUFpQixNQUFqQjtZQUNULE1BQUEsR0FBUyxJQUFJLENBQUMsR0FBTCxDQUFTLE1BQVQsRUFBaUIsTUFBakI7WUFFVCxFQUFBLEdBQ0k7Z0JBQUEsR0FBQSxFQUNJO29CQUFBLElBQUEsRUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQWQ7b0JBQ0EsS0FBQSxFQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FEZDtvQkFFQSxNQUFBLEVBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUZkO2lCQURKO2dCQUlBLEdBQUEsRUFDSTtvQkFBQSxNQUFBLEVBQVEsTUFBQSxHQUFPLE1BQWY7b0JBQ0EsTUFBQSxFQUFRLE1BQUEsR0FBTyxNQURmO29CQUVBLE1BQUEsRUFBUSxNQUZSO29CQUdBLE1BQUEsRUFBUSxNQUhSO29CQUlBLE1BQUEsRUFBUSxNQUpSO29CQUtBLE1BQUEsRUFBUSxNQUxSO2lCQUxKO2dCQVdBLEdBQUEsRUFDSTtvQkFBQSxHQUFBLEVBQUssQ0FBQyxDQUFDLFdBQVcsQ0FBQyxXQUFkLEdBQTBCLEdBQS9CO29CQUNBLEdBQUEsRUFBSyxDQUFDLENBQUMsV0FBVyxDQUFDLGdCQUFkLEdBQStCLEdBRHBDO2lCQVpKOztZQWVKLElBQUcsaUJBQUg7Z0JBRUksS0FBQSxHQUFRLENBQUMsQ0FBQyxPQUFPLENBQUM7Z0JBQ2xCLEtBQUEsR0FBUSxDQUFDLENBQUMsT0FBTyxDQUFDO2dCQUVsQixLQUFBLEdBQVEsSUFBSSxDQUFDLEdBQUwsQ0FBUyxLQUFULEVBQWdCLEtBQWhCO2dCQUNSLEtBQUEsR0FBUSxJQUFJLENBQUMsR0FBTCxDQUFTLEtBQVQsRUFBZ0IsS0FBaEI7Z0JBRVIsRUFBRSxDQUFDLEdBQUgsR0FDSTtvQkFBQSxLQUFBLEVBQU8sS0FBQSxHQUFNLEtBQWI7b0JBQ0EsS0FBQSxFQUFPLEtBQUEsR0FBTSxLQURiO29CQUVBLEtBQUEsRUFBTyxLQUZQO29CQUdBLEtBQUEsRUFBTyxLQUhQO29CQUlBLEtBQUEsRUFBTyxLQUpQO29CQUtBLEtBQUEsRUFBTyxLQUxQO2tCQVRSOztZQWdCQSxPQUFPLENBQUMsSUFBUixDQUFhLElBQUksQ0FBQyxTQUFMLENBQWUsRUFBZixDQUFiO21CQUVBLFNBQUEsR0FBWSxVQUFBLENBQVcsSUFBWCxFQUFpQixLQUFqQjtRQTlDTztJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBdkI7QUFKRzs7QUFvRFAsSUFBQSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiIyMjXG4wMCAgICAgMDAgIDAwMDAwMDAwICAwMCAgICAgMDAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgIDAwMDAwMDAwMFxuMDAwICAgMDAwICAwMDAgICAgICAgMDAwICAgMDAwICAwMDAwICAwMDAgIDAwMCAgICAgICAgICAwMDAgICBcbjAwMDAwMDAwMCAgMDAwMDAwMCAgIDAwMDAwMDAwMCAgMDAwIDAgMDAwICAwMDAwMDAwICAgICAgMDAwICAgXG4wMDAgMCAwMDAgIDAwMCAgICAgICAwMDAgMCAwMDAgIDAwMCAgMDAwMCAgMDAwICAgICAgICAgIDAwMCAgIFxuMDAwICAgMDAwICAwMDAwMDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMDAwMDAwICAgICAwMDAgICBcbiMjI1xuXG5zeXNpbmZvICA9IHJlcXVpcmUgJ3N5c3RlbWluZm9ybWF0aW9uJ1xuXG5yX21heCAgPSAxMDBcbndfbWF4ICA9IDEwMFxuXG5yeF9tYXggPSAxMDBcbnR4X21heCA9IDEwMFxuXG5hbmltVGltZXIgPSBudWxsXG5cbnRpY2sgPSAtPlxuICAgIFxuICAgIGNsZWFyVGltZW91dCBhbmltVGltZXJcbiAgICBcbiAgICBzeXNpbmZvLmdldER5bmFtaWNEYXRhIChkKSA9PlxuICAgIFxuICAgICAgICAjIGlmIE1hdGguYWJzKGQubmV0d29ya1N0YXRzWzBdLm1zIC0gMTAwMCkgPiAxMDAgIyBkb24ndCB0cnVzdCB0aG9zZSB2YWx1ZXMgd2l0aCB3cm9uZyBtcyB0aW1lIHNwYW5cbiAgICAgICAgICAgICMgcnhfc2VjID0gTWF0aC5taW4gcnhfbWF4LCBwYXJzZUludCBkLm5ldHdvcmtTdGF0c1swXS5yeF9zZWNcbiAgICAgICAgICAgICMgdHhfc2VjID0gTWF0aC5taW4gdHhfbWF4LCBwYXJzZUludCBkLm5ldHdvcmtTdGF0c1swXS50eF9zZWNcbiAgICAgICAgIyBlbHNlXG4gICAgICAgIHJ4X3NlYyA9IHBhcnNlSW50IGQubmV0d29ya1N0YXRzWzBdLnJ4X3NlY1xuICAgICAgICB0eF9zZWMgPSBwYXJzZUludCBkLm5ldHdvcmtTdGF0c1swXS50eF9zZWNcbiAgICAgICAgXG4gICAgICAgIHJ4X21heCA9IE1hdGgubWF4IHJ4X21heCwgcnhfc2VjXG4gICAgICAgIHR4X21heCA9IE1hdGgubWF4IHR4X21heCwgdHhfc2VjXG4gICAgICAgIFxuICAgICAgICBuZCA9XG4gICAgICAgICAgICBtZW06IFxuICAgICAgICAgICAgICAgIHVzZWQ6ICAgZC5tZW0udXNlZFxuICAgICAgICAgICAgICAgIHRvdGFsOiAgZC5tZW0udG90YWxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IGQubWVtLmFjdGl2ZVxuICAgICAgICAgICAgbmV0OlxuICAgICAgICAgICAgICAgIHJ4X2ZhYzogcnhfc2VjL3J4X21heFxuICAgICAgICAgICAgICAgIHR4X2ZhYzogdHhfc2VjL3R4X21heFxuICAgICAgICAgICAgICAgIHJ4X3NlYzogcnhfc2VjXG4gICAgICAgICAgICAgICAgdHhfc2VjOiB0eF9zZWNcbiAgICAgICAgICAgICAgICByeF9tYXg6IHJ4X21heFxuICAgICAgICAgICAgICAgIHR4X21heDogdHhfbWF4XG4gICAgICAgICAgICBjcHU6XG4gICAgICAgICAgICAgICAgc3lzOiBkLmN1cnJlbnRMb2FkLmN1cnJlbnRsb2FkLzEwMCBcbiAgICAgICAgICAgICAgICB1c3I6IGQuY3VycmVudExvYWQuY3VycmVudGxvYWRfdXNlci8xMDBcbiAgICAgICAgIFxuICAgICAgICBpZiBkLmRpc2tzSU8/XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJfc2VjID0gZC5kaXNrc0lPLnJJT19zZWNcbiAgICAgICAgICAgIHdfc2VjID0gZC5kaXNrc0lPLndJT19zZWNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcl9tYXggPSBNYXRoLm1heCByX21heCwgcl9zZWNcbiAgICAgICAgICAgIHdfbWF4ID0gTWF0aC5tYXggd19tYXgsIHdfc2VjXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG5kLmRzayA9IFxuICAgICAgICAgICAgICAgIHJfZmFjOiByX3NlYy9yX21heFxuICAgICAgICAgICAgICAgIHdfZmFjOiB3X3NlYy93X21heFxuICAgICAgICAgICAgICAgIHJfc2VjOiByX3NlY1xuICAgICAgICAgICAgICAgIHdfc2VjOiB3X3NlY1xuICAgICAgICAgICAgICAgIHJfbWF4OiByX21heFxuICAgICAgICAgICAgICAgIHdfbWF4OiB3X21heFxuICAgICAgICBcbiAgICAgICAgcHJvY2Vzcy5zZW5kIEpTT04uc3RyaW5naWZ5IG5kXG4gICAgICAgIFxuICAgICAgICBhbmltVGltZXIgPSBzZXRUaW1lb3V0IHRpY2ssIDEwMDAwXG5cbnRpY2soKVxuIl19
//# sourceURL=../coffee/memnet.coffee